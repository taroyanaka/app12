var app=function(t){"use strict";function n(){}function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function u(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(t,n){t.appendChild(n)}function c(t,n,e){t.insertBefore(n,e||null)}function s(t){t.parentNode&&t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function p(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function g(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function h(t){return""===t?null:+t}function m(t,n){n=""+n,t.data!==n&&(t.data=n)}function $(t,n){t.value=null==n?"":n}let b;function y(t){b=t}function x(t){(function(){if(!b)throw new Error("Function called outside component initialization");return b})().$$.on_mount.push(t)}const v=[],_=[];let k=[];const w=[],C=Promise.resolve();let E=!1;function N(t){k.push(t)}const S=new Set;let q=0;function D(){if(0!==q)return;const t=b;do{try{for(;q<v.length;){const t=v[q];q++,y(t),A(t.$$)}}catch(t){throw v.length=0,q=0,t}for(y(null),v.length=0,q=0;_.length;)_.pop()();for(let t=0;t<k.length;t+=1){const n=k[t];S.has(n)||(S.add(n),n())}k.length=0}while(v.length);for(;w.length;)w.pop()();E=!1,S.clear(),y(t)}function A(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(N)}}const I=new Set;function M(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];k.forEach((o=>-1===t.indexOf(o)?n.push(o):e.push(o))),e.forEach((t=>t())),k=n}(e.after_update),r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function O(t,n){-1===t.$$.dirty[0]&&(v.push(t),E||(E=!0,C.then(D)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function T(t,i,a,c,l,d,f,p=[-1]){const g=b;y(t);const h=t.$$={fragment:null,ctx:[],props:d,update:n,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(g?g.$$.context:[])),callbacks:o(),dirty:p,skip_bound:!1,root:i.target||g.$$.root};f&&f(h.root);let m=!1;if(h.ctx=a?a(t,i.props||{},((n,e,...o)=>{const r=o.length?o[0]:e;return h.ctx&&l(h.ctx[n],h.ctx[n]=r)&&(!h.skip_bound&&h.bound[n]&&h.bound[n](r),m&&O(t,n)),e})):[],h.update(),m=!0,r(h.before_update),h.fragment=!!c&&c(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(s)}else h.fragment&&h.fragment.c();i.intro&&(($=t.$$.fragment)&&$.i&&(I.delete($),$.i(x))),function(t,n,o,i){const{fragment:a,after_update:c}=t.$$;a&&a.m(n,o),i||N((()=>{const n=t.$$.on_mount.map(e).filter(u);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),c.forEach(N)}(t,i.target,i.anchor,i.customElement),D()}var $,x;y(g)}class Y{$destroy(){M(this,1),this.$destroy=n}$on(t,e){if(!u(e))return n;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function j(t,n,e){const o=t.slice();return o[28]=n[e],o[30]=e,o}function G(t){let e,o,r;return{c(){e=l("button"),e.textContent="Googleでログイン"},m(n,u){c(n,e,u),o||(r=p(e,"click",t[11]),o=!0)},p:n,d(t){t&&s(e),o=!1,r()}}}function L(t){let e,o,r;return{c(){e=l("button"),e.textContent="ログアウト"},m(n,u){c(n,e,u),o||(r=p(e,"click",t[12]),o=!0)},p:n,d(t){t&&s(e),o=!1,r()}}}function P(t){let n,e,o,u,i,g,h,$,b,y,x,v,_,k,w,C,E,N,S,q,D=t[28].name+"",A=t[28].start+"",I=t[28].end+"",M=t[28].progress+"",O=t[28].uid+"";function T(){return t[19](t[30])}function Y(){return t[20](t[30])}function j(){return t[21](t[28])}return{c(){n=l("li"),e=d(D),o=d(" ("),u=d(A),i=d(" - "),g=d(I),h=d(") 進捗: "),$=d(M),b=d("% \n                "),y=l("button"),y.textContent="編集",x=f(),v=l("button"),v.textContent="削除",_=f(),k=l("button"),w=d("ユーザー "),C=d(O),E=d(" で絞り込む"),N=f()},m(t,r){c(t,n,r),a(n,e),a(n,o),a(n,u),a(n,i),a(n,g),a(n,h),a(n,$),a(n,b),a(n,y),a(n,x),a(n,v),a(n,_),a(n,k),a(k,w),a(k,C),a(k,E),a(n,N),S||(q=[p(y,"click",T),p(v,"click",Y),p(k,"click",j)],S=!0)},p(n,o){t=n,36&o&&D!==(D=t[28].name+"")&&m(e,D),36&o&&A!==(A=t[28].start+"")&&m(u,A),36&o&&I!==(I=t[28].end+"")&&m(g,I),36&o&&M!==(M=t[28].progress+"")&&m($,M),36&o&&O!==(O=t[28].uid+"")&&m(C,O)},d(t){t&&s(n),S=!1,r(q)}}}function W(t){let e,o,u,i,b,y,x,v,_,k,w,C,E,N,S,q,D,A,I,M,O,T,Y,W,z,B,K,F,H,J,R,U,V,Q,X,Z,tt,nt,et,ot,rt,ut,it,at,ct,st,lt,dt,ft=t[4]?"更新":"追加";function pt(t,n){return t[0]?L:G}let gt=pt(t),ht=gt(t),mt=t[5]?t[6]():t[2],$t=[];for(let n=0;n<mt.length;n+=1)$t[n]=P(j(t,mt,n));return{c(){e=l("main"),o=l("h1"),o.textContent="ガントチャート with CRUD",u=f(),i=l("p"),b=d(t[1]),y=f(),ht.c(),x=f(),v=l("div"),_=f(),k=l("h2"),k.textContent="タスクの追加/編集",w=f(),C=l("form"),E=l("label"),N=d("タスク名: \n            "),S=l("input"),q=f(),D=l("br"),A=f(),I=l("label"),M=d("開始日: \n            "),O=l("input"),T=f(),Y=l("br"),W=f(),z=l("label"),B=d("終了日: \n            "),K=l("input"),F=f(),H=l("br"),J=f(),R=l("label"),U=d("進捗: \n            "),V=l("input"),Q=f(),X=l("br"),Z=f(),tt=l("button"),nt=d(ft),et=f(),ot=l("button"),ot.textContent="リセット",rt=f(),ut=l("h2"),ut.textContent="タスクリスト",it=f(),at=l("ul");for(let t=0;t<$t.length;t+=1)$t[t].c();ct=f(),st=l("button"),st.textContent="フィルタ解除",g(v,"id","gantt"),g(v,"class","svelte-1qmxieq"),g(S,"type","text"),S.required=!0,g(E,"class","task-input svelte-1qmxieq"),g(O,"type","date"),O.required=!0,g(K,"type","date"),K.required=!0,g(V,"type","number"),g(V,"min","0"),g(V,"max","100"),V.required=!0,g(tt,"type","submit"),g(ot,"type","button")},m(n,r){c(n,e,r),a(e,o),a(e,u),a(e,i),a(i,b),a(e,y),ht.m(e,null),a(e,x),a(e,v),a(e,_),a(e,k),a(e,w),a(e,C),a(C,E),a(E,N),a(E,S),$(S,t[3].name),a(E,q),a(C,D),a(C,A),a(C,I),a(I,M),a(I,O),$(O,t[3].start),a(I,T),a(C,Y),a(C,W),a(C,z),a(z,B),a(z,K),$(K,t[3].end),a(z,F),a(C,H),a(C,J),a(C,R),a(R,U),a(R,V),$(V,t[3].progress),a(R,Q),a(C,X),a(C,Z),a(C,tt),a(tt,nt),a(C,et),a(C,ot),a(e,rt),a(e,ut),a(e,it),a(e,at);for(let t=0;t<$t.length;t+=1)$t[t]&&$t[t].m(at,null);var s;a(e,ct),a(e,st),lt||(dt=[p(S,"input",t[15]),p(O,"input",t[16]),p(K,"input",t[17]),p(V,"input",t[18]),p(ot,"click",t[10]),p(C,"submit",(s=t[7],function(t){return t.preventDefault(),s.call(this,t)})),p(st,"click",t[14])],lt=!0)},p(t,[n]){if(2&n&&m(b,t[1]),gt===(gt=pt(t))&&ht?ht.p(t,n):(ht.d(1),ht=gt(t),ht&&(ht.c(),ht.m(e,x))),8&n&&S.value!==t[3].name&&$(S,t[3].name),8&n&&$(O,t[3].start),8&n&&$(K,t[3].end),8&n&&h(V.value)!==t[3].progress&&$(V,t[3].progress),16&n&&ft!==(ft=t[4]?"更新":"追加")&&m(nt,ft),9060&n){let e;for(mt=t[5]?t[6]():t[2],e=0;e<mt.length;e+=1){const o=j(t,mt,e);$t[e]?$t[e].p(o,n):($t[e]=P(o),$t[e].c(),$t[e].m(at,null))}for(;e<$t.length;e+=1)$t[e].d(1);$t.length=mt.length}},i:n,o:n,d(t){t&&s(e),ht.d(),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}($t,t),lt=!1,r(dt)}}}function z(){const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}function B(n,e,o){firebase.initializeApp({apiKey:"AIzaSyBcOlIDP2KWbJuKM0WeMHNp-WvjTVfLt9Y",authDomain:"p2auth-ea50a.firebaseapp.com",projectId:"p2auth-ea50a",storageBucket:"p2auth-ea50a.appspot.com",messagingSenderId:"796225429484",appId:"1:796225429484:web:ece56ef2fc0be28cd6eac9"});const r=new firebase.auth.GoogleAuthProvider;let u,i=null,a="",c="Not logged in",s=[{id:"Task 1",name:"プロジェクト開始",start:"2024-09-01",end:"2024-09-05",progress:20,uid:"sample-uid-1"},{id:"Task 2",name:"設計フェーズ",start:"2024-09-06",end:"2024-09-10",progress:40,uid:"sample-uid-1"},{id:"Task 3",name:"開発フェーズ",start:"2024-09-11",end:"2024-09-15",progress:60,uid:"sample-uid-2"}],l={id:null,name:"",start:z(),end:"",progress:0,uid:null},d=!1,f=null;function p(){return null!==f?s.filter((t=>t.uid===f)):s}function g(){const n=p();u?u.refresh(n):u=new t("#gantt",n,{view_mode:"Day",date_format:"YYYY-MM-DD",custom_popup_html:t=>`\n                        <div class="details-container">\n                            <h5>${t.name}</h5>\n                            <p>開始日: ${t.start}</p>\n                            <p>終了日: ${t.end}</p>\n                            <p>進捗: ${t.progress}%</p>\n                        </div>\n                    `})}function m(t){o(3,l={...s[t]}),o(4,d=!0)}function $(t){o(2,s=s.filter(((n,e)=>e!==t))),g()}function b(){o(3,l={id:null,name:"",start:z(),end:"",progress:0,uid:null}),o(4,d=!1)}function y(t){o(5,f=t),g()}x((()=>{g(),firebase.auth().onAuthStateChanged((t=>{o(0,i=t),i?(o(1,c=`Logged in as: ${i.displayName}`),a=i.uid):(o(1,c="Not logged in"),a="")}))}));return[i,c,s,l,d,f,p,function(){if(o(3,l.uid=a||"sample-uid-1",l),d){const t=s.findIndex((t=>t.id===l.id));-1!==t&&o(2,s=[...s.slice(0,t),{...l},...s.slice(t+1)])}else{const t={...l,id:`Task ${s.length+1}`};o(2,s=[...s,t])}b(),g()},m,$,b,function(){firebase.auth().signInWithPopup(r).then((t=>{o(0,i=t.user),o(1,c=`Logged in as: ${i.displayName}`)})).catch((t=>{console.error("Error during Google login:",t),alert("Google login failed. "+t.message)}))},function(){firebase.auth().signOut().then((()=>{o(0,i=null),o(1,c="Not logged in")})).catch((t=>{console.error("Error during sign-out:",t),alert("Sign out failed. "+t.message)}))},y,function(){o(5,f=null),g()},function(){l.name=this.value,o(3,l)},function(){l.start=this.value,o(3,l)},function(){l.end=this.value,o(3,l)},function(){l.progress=h(this.value),o(3,l)},t=>m(t),t=>$(t),t=>y(t.uid)]}return new class extends Y{constructor(t){super(),T(this,t,B,W,i,{})}}({target:document.body})}(Gantt);
//# sourceMappingURL=bundle.js.map
